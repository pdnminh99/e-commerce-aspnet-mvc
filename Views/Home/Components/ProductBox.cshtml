@using System.Text.Json;
@model EcommerceApp2259.Models.Product

<div class="prod_box">
    <div class="top_prod_box"></div>
    <div class="center_prod_box">
        <div class="product_title">
            <a asp-action="ProductDetail" asp-route-productId="@Model.ProductId">@Model.Title</a>
        </div>
        <div class="product_img" style="width: 173px; height: 104px;">
            <a asp-action="ProductDetail" asp-route-productId="@Model.ProductId">
                @{
                    var productImages = Model.ProductImage;
                    if (productImages != null && productImages.Count > 0)
                    {
                        <img id="product-img-@Model.ProductId" src="@productImages[0].URI" alt="@Model.Title" style="max-width: 173px; max-height: 104px;"/>
                    }
                    else
                    {
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/1024px-No_image_available.svg.png" alt="no-img" style="max-width: 173px; max-height: 104px;"/>
                    }
                }
            </a>
        </div>
        <div class="prod_price">
            @* <span class="reduce"></span> *@
            <span class="price">@Model.OriginalPrice$</span>
        </div>
    </div>
    <div class="bottom_prod_box"></div>

    <div class="prod_details_tab">
        <a href="javascript:void(0)" onclick="addItem('@JsonSerializer.Serialize(Model)')">
            <img src="~/css/images/cart.gif" class="left_bt" alt=""/>
        </a>
        <a href="javascript:void(0)">
            <img src="~/css/images/favs.gif" class="left_bt" alt=""/>
        </a>
        <a href="javascript:void(0)">
            <img src="~/css/images/favorites.gif" class="left_bt" alt=""/>
        </a>
        <a asp-action="ProductDetail" asp-route-productId="@Model.ProductId" class="prod_details">details</a>
    </div>
</div>